'use strict';

var fs = require('fs-extra');
require('webpack');
require('path');
require('chalk');
require('eslint-webpack-plugin');
require('fork-ts-checker-webpack-plugin');
require('html-webpack-plugin');
require('@module-federation/enhanced/webpack');
require('@backstage/cli-common');
require('react-dev-utils/ModuleScopePlugin');
require('run-script-webpack-plugin');
require('@pmmmwh/react-refresh-webpack-plugin');
var paths = require('../../lib/paths.cjs.js');
require('@manypkg/get-packages');
require('webpack-node-externals');
require('../../lib/bundler/optimization.cjs.js');
require('lodash/pickBy');
require('../../lib/run.cjs.js');
require('mini-css-extract-plugin');
require('../../lib/version.cjs.js');
require('yn');
require('react-dev-utils/FileSizeReporter');
require('react-dev-utils/formatWebpackMessages');
require('../../lib/bundler/packageDetection.cjs.js');
var moduleFederation = require('../../lib/bundler/moduleFederation.cjs.js');
var server = require('../../lib/bundler/server.cjs.js');

async function startFrontend(options) {
  const { name } = await fs.readJson(paths.paths.resolveTarget("package.json"));
  const waitForExit = await server.serveBundle({
    entry: options.entry,
    checksEnabled: options.checksEnabled,
    configPaths: options.configPaths,
    verifyVersions: options.verifyVersions,
    skipOpenBrowser: options.skipOpenBrowser,
    moduleFederation: moduleFederation.getModuleFederationOptions(
      name,
      options.isModuleFederationRemote
    )
  });
  await waitForExit();
}

exports.startFrontend = startFrontend;
//# sourceMappingURL=startFrontend.cjs.js.map
